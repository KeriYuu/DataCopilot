# ============================================
# Data Copilot Environment Configuration
# 
# Copy this file to .env and modify as needed
# cp env.example .env
# ============================================

# ============================================
# Database (ClickHouse)
# ============================================
CLICKHOUSE_HOST=localhost
CLICKHOUSE_PORT=8123
CLICKHOUSE_DATABASE=insurance_db
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=

# ============================================
# vLLM 7B + Multi-LoRA (SGMV)
# ============================================
# For Python SDK (pydantic settings)
VLLM_URL=http://localhost:8000/v1

# For shell scripts (start_vllm_7b.sh)
VLLM_PORT=8000
BASE_MODEL_PATH=/opt/Data_Copilot/models/Qwen2.5-7B-Instruct

# LoRA Adapter Paths
INTENT_LORA_PATH=./output/intent_lora
NL2SQL_LORA_PATH=./output/nl2sql_lora
KEYWORD_LORA_PATH=./output/keyword_lora

# ============================================
# vLLM 32B + GPTQ Quantization
# ============================================
# For Python SDK (pydantic settings)
VLLM_32B_URL=http://localhost:8001/v1

# For shell scripts (start_vllm_32b.sh)
VLLM_32B_PORT=8001
GENERATOR_MODEL=Qwen/Qwen2.5-32B-Instruct-GPTQ-Int8

# ============================================
# Inference Optimizations
# ============================================

# Prefix Caching (cache system prompts)
ENABLE_PREFIX_CACHING=true

# Speculative Decoding (7B accelerates 32B)
ENABLE_SPECULATIVE_DECODING=true
SPECULATIVE_MODEL=Qwen/Qwen2.5-7B-Instruct
NUM_SPECULATIVE_TOKENS=5

# Tensor Parallel
TP_SIZE_7B=2
TP_SIZE_32B=4

# GPU Memory
GPU_MEMORY_UTILIZATION=0.8

# ============================================
# Generation Settings
# ============================================
MAX_TOKENS=1024
TEMPERATURE=0.1
MAX_SQL_RETRIES=3

# ============================================
# MLflow Tracking
# ============================================
MLFLOW_TRACKING_URI=http://localhost:5000
MLFLOW_EXPERIMENT_NAME=data_copilot

# ============================================
# Wandb (Training)
# ============================================
WANDB_PROJECT=data-copilot
WANDB_ENTITY=your-username

# ============================================
# API Settings
# ============================================
API_HOST=0.0.0.0
API_PORT=8080
